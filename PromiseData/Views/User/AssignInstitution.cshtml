@model PromiseData.ViewModels.UserFormViewModel

@{
    ViewBag.Title = "AssignInstitution";
}

<h2>Assign Institution</h2>
<h3></h3>
<h3>@Model.UserName</h3>
@if (ViewBag.Error == true)
{
    <p class="text-danger">@ViewBag.ErrorMessage</p>
}
else
{
    using (Html.BeginForm())
    {
        <div class="form-horizontal">
            <div class="form-group">
                <span class="col-md-2 control-label">
                    @Model.UserName
                </span>
                <span class="col-md-2 control-label">
                    @foreach( var role in Model.User.Roles)
                    {
                        role.RoleId.ToString();
                    }
                </span>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.InstitutionId, "Assigned Operator/Hub", new { @class = "col-md-4 control-label" })
                <div class="col-md-8">
                    @Html.DropDownListFor(m => m.InstitutionId, new SelectList(Model.Institutions, "Id", "LegalName"), new { @class = "form-control" })
                </div>

                @Html.LabelFor(model => model.ProviderId, "Assigned Provider", new { @class = "col-md-4 control-label" })
                <div class="col-md-8">
                    @Html.DropDownListFor(m => m.ProviderId, new SelectList(Model.Providers, "ID", "Description"), new { @class = "form-control" })
                </div>

            </div>
            @Html.HiddenFor(m => m.UserId)
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    }
}